while :; do (for file in /channel/channel1/*.*; do ffmpeg -re -i "$file" -vcodec libx264 -vprofile baseline -g 30 -acodec aac -strict -2 -f flv rtmp://nginx/show/stream; done); done & while :; do (for file in /channel/channel2/*.*; do ffmpeg -re -i "$file" -vcodec libx264 -vprofile baseline -g 30 -acodec aac -strict -2 -f flv rtmp://nginx/show/stream2; done); done & while :; do (for file in /channel/channel3/*.*; do ffmpeg -re -i "$file" -vcodec libx264 -map 0:0 -map 0:2 -vprofile baseline -g 30 -acodec aac -strict -2 -f flv rtmp://nginx/show/stream3; done); done & while :; do (for file in /channel/channel4/*.*; do ffmpeg -re -i "$file" -vcodec libx264 -vprofile baseline -g 30 -acodec aac -strict -2 -f flv rtmp://nginx/show/stream4; done); done & while :; do (for file in /channel/channel5/*.*; do ffmpeg -re -i "$file" -vcodec libx264 -vprofile baseline -g 30 -acodec aac -strict -2 -f flv rtmp://nginx/show/stream5; done); done & while :; do (for file in /channel/channel6/*.*; do ffmpeg -re -i "$file" -vcodec libx264 -vprofile baseline -g 30 -acodec aac -strict -2 -f flv rtmp://nginx/show/stream6; done); done & while :; do (for file in /channel/channel7/*.*; do ffmpeg -re -i "$file" -vcodec libx264 -vprofile baseline -g 30 -acodec aac -strict -2 -f flv rtmp://nginx/show/stream7; done); done & while :; do (for file in /channel/channel8/*.*; do ffmpeg -re -i "$file" -vcodec libx264 -vprofile baseline -g 30 -acodec aac -strict -2 -f flv rtmp://nginx/show/stream8; done); done & while :; do (for file in /channel/channel9/*.*; do ffmpeg -re -i "$file" -vcodec libx264 -vprofile baseline -g 30 -acodec aac -strict -2 -f flv rtmp://nginx/show/stream9; done); done & while :; do (for file in /channel/channel10/*.*; do ffmpeg -re -i "$file" -vcodec libx264 -vprofile baseline -g 30 -acodec aac -strict -2 -f flv rtmp://nginx/show/stream10; done); done & while :; do (for file in /channel/channel11/*.*; do ffmpeg -re -i "$file" -vcodec libx264 -vprofile baseline -g 30 -acodec aac -strict -2 -f flv rtmp://nginx/show/stream11; done); done & while :; do (for file in /channel/channel12/*.*; do ffmpeg -re -i "$file" -vcodec libx264 -vprofile baseline -g 30 -acodec aac -strict -2 -f flv rtmp://nginx/show/stream12; done); done & while :; do (for file in /channel/channel13/*.*; do ffmpeg -re -i "$file" -vcodec libx264 -vprofile baseline -g 30 -acodec aac -strict -2 -f flv rtmp://nginx/show/stream13; done); done & while :; do (for file in /channel/channel14/*.*; do ffmpeg -re -i "$file" -vcodec libx264 -vprofile baseline -g 30 -acodec aac -strict -2 -f flv rtmp://nginx/show/stream14; done); done & while :; do (for file in /channel/channel15/*.*; do ffmpeg -re -i "$file" -vcodec libx264 -vprofile baseline -g 30 -acodec aac -strict -2 -f flv rtmp://nginx/show/stream15; done); done &while :; do (for file in /channel/channel16/*.*; do ffmpeg -re -i "$file" -vcodec libx264 -vprofile baseline -g 30 -acodec aac -strict -2 -f flv rtmp://nginx/show/stream16; done); done & while :; do (for file in /channel/channel17/*.*; do ffmpeg -re -i "$file" -vcodec libx264 -vprofile baseline -g 30 -acodec aac -strict -2 -f flv rtmp://nginx/show/stream17; done); done & while :; do (for file in /channel/channel18/*.*; do ffmpeg -re -i "$file" -vcodec libx264 -vprofile baseline -g 30 -acodec aac -strict -2 -f flv rtmp://nginx/show/stream18; done); done & while :; do (for file in /channel/channel19/*.*; do ffmpeg -re -i "$file" -vcodec libx264 -vprofile baseline -g 30 -acodec aac -strict -2 -f flv rtmp://nginx/show/stream19; done); done & while :; do (for file in /channel/channel20/*.*; do ffmpeg -re -i "$file" -vcodec libx264 -vprofile baseline -g 30 -acodec aac -strict -2 -f flv rtmp://nginx/show/stream20; done); done & while :; do (for file in /channel/channel21/*.*; do ffmpeg -re -i "$file" -vcodec libx264 -vprofile baseline -g 30 -acodec aac -strict -2 -f flv rtmp://nginx/show/stream21; done); done